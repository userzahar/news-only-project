{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SCAAD,EAAAC,EAAA,S,WAGA,IAAIC,EAA0B,GAI9B,SAASC,IAKPD,EAJ0D,OAAtDE,KAAKC,MAAMC,aAAaC,QAAQ,kBAIVH,KAAKC,MAAMC,aAAaC,QAAQ,kBAH9B,E,CAJ9BP,EAAAQ,KAAKC,YAAYC,iBAAiB,SAYlC,SAA4BC,GAC1B,MAAMC,EAAMD,EAAEE,OAAOC,QAAQ,2BACvBC,EAASH,EAAII,WAAW,GACxBC,EAAYL,EAAII,WAAW,GACjC,IAAKJ,EAAK,OACVM,QAAQC,IAAIJ,GACZZ,IACA,IAAIiB,EAAQR,EAAIS,WAAWA,WAAWL,WAAW,GAAGM,YAEpD,GAAIL,EAAUM,UAAUC,SAAS,aAI/B,OAHAT,EAAOQ,UAAUE,IAAI,aACrBR,EAAUM,UAAUG,OAAO,kBAgB/B,SAAuBd,GACrB,MAAMe,EAAe,CACnBP,MAAOR,EAAIS,WAAWA,WAAWL,WAAW,GAAGM,YAC/CM,IAAKhB,EAAIS,WAAWL,WAAW,GAAGa,WAAWC,IAAIC,UACjDC,SAAUpB,EAAIS,WAAWL,WAAW,GAAGiB,UACvCC,YAAatB,EAAIS,WAAWA,WAAWL,WAAW,GAAGM,YACrDa,KAAMvB,EAAIS,WAAWA,WAAWe,iBAAiBC,SAAS,GAAGf,YAC7DgB,SAAU,OACVC,OACE3B,EAAIS,WAAWA,WAAWe,iBAAiBC,SAAS,GAAGR,WAAW,GAC/DW,OAGP,IAAK,IAAIC,EAAI,EAAGA,EAAIvC,EAAwBwC,OAAQD,GAAK,EACvD,GAAIvC,EAAwBuC,GAAGrB,QAAUO,EAAaP,MAAO,OAG/DlB,EAAwByC,KAAKhB,GAE7BrB,aAAasC,QACX,gBACAxC,KAAKyC,UAAU3C,IAEjBgB,QAAQC,IAAIjB,E,CAtCV4C,CAAclC,GAIhB,IAAK,IAAI6B,EAAI,EAAGA,EAAIvC,EAAwBwC,OAAQD,GAAK,EACnDvC,EAAwBuC,GAAGrB,QAAUA,GACvClB,EAAwB6C,OAAON,EAAG,GAGtCnC,aAAasC,QACX,gBACAxC,KAAKyC,UAAU3C,G,IAzBnBC,IDbAe,QAAQC,IAAIjB,GA8BZA,EAAwB8C,KAAIC,IA5B5B,IAAyBC,EAASC,EAATD,EA6BPlD,EAAAQ,KAAK4C,oBA7BWD,EAIlC,UAAsB/B,MAAEA,EAAKQ,IAAEA,EAAGM,YAAEA,EAAWK,OAAEA,EAAMP,SAAEA,EAAQG,KAAEA,IACjE,MAAO,+IAEiEH,yDACzBJ,olBAUCR,wDACHc,2HAEOC,8CACnBI,8J,CAOSc,CAAaJ,GA5BvDC,EAAQI,mBAAmB,YAAaH,EA4BmB","sources":["src/favorite.js","src/js/localStorageFavorite.js"],"sourcesContent":["import { refs } from './js/refs';\nimport { favoritesInLocalStorage } from './js/localStorageFavorite';\nconsole.log(favoritesInLocalStorage);\n\nfunction renderFavorites(element, constMarkup) {\n  element.insertAdjacentHTML('beforeend', constMarkup);\n}\n\nfunction createMarkup({ title, img, description, source, category, date }) {\n  return `<li class=\"gallery__item\">\n    <article class=\"gallery__article\">\n              <div class=\"gallery__thumb\"> <p class=\"gallery__category\">${category}</p>\n                <img class=\"gallery__img\" src=\"${img}\" alt=\"\"/>\n                 <button type=\"button\" class=\"gallery__favorite__btn \">\n                         <span class=\"favorite__btn-span \">Add to favorite\n                           <svg width='16' height='16'><use href=\"}\"></use>\n                    </svg> </span>\n                    <span class=\"favorite__btn-span is-hidden\">Remove from favorite\n                                    <svg width='16' height='16'><use href=\"\"></use>\n                    </svg></span>\n                          </button>\n                    </div>\n                    <h3 class=\"gallery__header\">${title}</h3>\n                    <p class=\"gallery__text\">${description}</p>\n                    <div class=\"gallery__item-bottom_wrap\">\n                        <span class=\"gallery__date\">${date}</span>\n                        <a href=\"${source}\" target=\"_blank\" rel=\"noreferrer noopener\" class=\"gallery__link\">Read more</a>\n                    </div>\n                </article>\n             </li>`;\n}\n\nfavoritesInLocalStorage.map(el => {\n  renderFavorites(refs.favoriteGalleryList, createMarkup(el));\n});\n","import { refs } from './refs';\nimport onResize from './resize';\n\nlet favoritesInLocalStorage = [];\n\nrefs.galleryList.addEventListener('click', onBtnFavoriteClick);\n\nfunction checkFavorite() {\n  if (JSON.parse(localStorage.getItem('favoritesNews')) === null) {\n    favoritesInLocalStorage = [];\n    return;\n  }\n  favoritesInLocalStorage = JSON.parse(localStorage.getItem('favoritesNews'));\n}\n\ncheckFavorite();\n\nfunction onBtnFavoriteClick(e) {\n  const btn = e.target.closest(`.gallery__favorite__btn`);\n  const addBtn = btn.childNodes[1];\n  const removeBtn = btn.childNodes[3];\n  if (!btn) return;\n  console.log(addBtn);\n  checkFavorite();\n  let title = btn.parentNode.parentNode.childNodes[3].textContent;\n  // console.log(title);\n  if (removeBtn.classList.contains('is-hidden')) {\n    addBtn.classList.add('is-hidden');\n    removeBtn.classList.remove('is-hidden');\n    addToFavorite(btn);\n    return;\n  }\n\n  for (let i = 0; i < favoritesInLocalStorage.length; i += 1) {\n    if (favoritesInLocalStorage[i].title === title) {\n      favoritesInLocalStorage.splice(i, 1);\n    }\n  }\n  localStorage.setItem(\n    'favoritesNews',\n    JSON.stringify(favoritesInLocalStorage)\n  );\n}\n\nfunction addToFavorite(btn) {\n  const favoriteData = {\n    title: btn.parentNode.parentNode.childNodes[3].textContent,\n    img: btn.parentNode.childNodes[3].attributes.src.nodeValue,\n    category: btn.parentNode.childNodes[1].innerText,\n    description: btn.parentNode.parentNode.childNodes[5].textContent,\n    date: btn.parentNode.parentNode.lastElementChild.children[0].textContent,\n    favorite: 'true',\n    source:\n      btn.parentNode.parentNode.lastElementChild.children[1].attributes[0]\n        .value,\n  };\n\n  for (let i = 0; i < favoritesInLocalStorage.length; i += 1) {\n    if (favoritesInLocalStorage[i].title === favoriteData.title) return;\n  }\n\n  favoritesInLocalStorage.push(favoriteData);\n\n  localStorage.setItem(\n    'favoritesNews',\n    JSON.stringify(favoritesInLocalStorage)\n  );\n  console.log(favoritesInLocalStorage);\n}\n\nexport { favoritesInLocalStorage };\n"],"names":["$krGWQ","parcelRequire","$88f8ae40d7445800$export$49dcf69dc36545fe","$88f8ae40d7445800$var$checkFavorite","JSON","parse","localStorage","getItem","refs","galleryList","addEventListener","e","btn","target","closest","addBtn","childNodes","removeBtn","console","log","title","parentNode","textContent","classList","contains","add","remove","favoriteData","img","attributes","src","nodeValue","category","innerText","description","date","lastElementChild","children","favorite","source","value","i","length","push","setItem","stringify","$88f8ae40d7445800$var$addToFavorite","splice","map","el","element","constMarkup","favoriteGalleryList","$f2929da3ca31033d$var$createMarkup","insertAdjacentHTML"],"version":3,"file":"favorite.46492c4d.js.map"}