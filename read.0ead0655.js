const t={item:document.querySelectorAll(".gallery__item"),galleryList:document.querySelector(".gallery__list"),catagories:document.querySelector(".catagories"),listOfCatagories:document.querySelector(".catagories__list"),btnCatagories:document.querySelector(".catagories__btn"),name:document.querySelector(".catagories__btn-name"),catagoriesItem:document.querySelector(".catagories__item-container"),item:document.querySelectorAll(".gallery__list li"),galleryList:document.querySelector(".gallery__list"),container:document.querySelectorAll(".container"),headerContainer:document.querySelectorAll(".header-container"),logo:document.querySelector(".logo"),paginationContainer:document.getElementById("pagination"),navBar:document.querySelector(".navbar")};if("/"===window.location.pathname||"/index.html"===window.location.pathname){const I=fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=HunERBoFJkGno2ChxwL9g20UbJbd8EGL").then((t=>t.json())).then((t=>t.results));function e(){t.catagoriesItem.innerHTML="",I.then((e=>{const a=e.reduce(((t,e)=>t+function({section:t}){return`<li class='catagories__item'><button data-name="${t}" class="catagory__btn">${t}</button></li>`}(e)),"");t.name.textContent="Categories",t.listOfCatagories.innerHTML=a}))}function a(){t.catagoriesItem.innerHTML="",I.then((e=>{const[a,n,o,s,...i]=e,c=`\n    \n    <li class='catagories__item-tab'><button type="button" data-name="${a.section}" class="catagory__btn-tab">${a.section}</button></li>\n    <li class='catagories__item-tab'><button type="button" data-name="${n.section}" class="catagory__btn-tab">${n.section}</button></li>\n    <li class='catagories__item-tab'><button type="button" data-name="${o.section}" class="catagory__btn-tab">${o.section}</button></li>\n    <li class='catagories__item-tab'><button type="button" data-name="${s.section}" class="catagory__btn-tab">${s.section}</button></li>\n    \n    `,r=`${i.map((t=>` <button type="button" data-name="${t.section}" class="catagory__btn-list-tab">${t.section}</button>`)).join("")}`;t.name.textContent="Others",t.catagoriesItem.insertAdjacentHTML("afterbegin",c),t.listOfCatagories.innerHTML=r}))}function n(){t.catagoriesItem.innerHTML="",I.then((e=>{const[a,n,o,s,i,c,...r]=e,l=`\n    \n    <li class='catagories__item-des'><button type="button" data-name="${a.section}" class="catagory__btn-tab">${a.section}</button></li>\n    <li class='catagories__item-des'><button type="button" data-name="${n.section}" class="catagory__btn-tab">${n.section}</button></li>\n    <li class='catagories__item-des'><button type="button" data-name="${o.section}" class="catagory__btn-tab">${o.section}</button></li>\n    <li class='catagories__item-des'><button type="button" data-name="${s.section}" class="catagory__btn-tab">${s.section}</button></li>\n    <li class='catagories__item-des'><button type="button" data-name="${i.section}" class="catagory__btn-tab">${i.section}</button></li>\n     <li class='catagories__item-des'><button type="button" data-name="${c.section}" class="catagory__btn-tab">${c.section}</button></li>\n    \n     `,d=`${r.map((t=>`<button type="button" data-name="${t.section}" class="catagory__btn-list-tab">${t.section}</button>\n          `)).join("")}`;t.name.textContent="Others",t.catagoriesItem.insertAdjacentHTML("afterbegin",l),t.listOfCatagories.innerHTML=d}))}function o(t){if("BUTTON"!==t.target.nodeName)return;const e=t.target.dataset.name,a=t.target;return console.log(a),a.classList.toggle("btn-color"),fetch(`https://api.nytimes.com/svc/news/v3/content/nyt/${e}.json?api-key=HunERBoFJkGno2ChxwL9g20UbJbd8EGL`).then((t=>t.json()))}console.log("FETCH CATS"),t.btnCatagories.addEventListener("click",(function(){const e="true"===t.btnCatagories.getAttribute("aria-expanded")||!1;t.btnCatagories.classList.toggle("is-open"),t.btnCatagories.setAttribute("aria-expanded",!e),t.btnCatagories.classList.toggle("btn-color"),t.listOfCatagories.classList.toggle("is-open")})),t.catagoriesItem.addEventListener("click",o),t.listOfCatagories.addEventListener("click",o)}function s(o,s){if("/"===window.location.pathname||"/index.html"===window.location.pathname){for(sizeRemove of s)t.name.classList.remove(`catagories__btn-name-${sizeRemove}`),t.listOfCatagories.classList.remove(`catagories__list-${sizeRemove}`),t.catagories.classList.remove(`catagories-${sizeRemove}`),t.btnCatagories.classList.remove(`catagories__btn-${sizeRemove}`);t.listOfCatagories.classList.add(`catagories__list-${o}`),t.catagories.classList.add(`catagories-${o}`),t.name.classList.add(`catagories__btn-name-${o}`),t.btnCatagories.classList.add(`catagories__btn-${o}`),"mobile"===o&&(t.catagoriesItem.innerHTML="",e(),console.log("call  categoriesForMobile")),"tablet"===o&&(t.catagoriesItem.innerHTML="",a(),console.log("call  categoriesForTablet")),"desktop"===o&&(t.catagoriesItem.innerHTML="",n(),console.log("call  categoriesForDesktop"))}if("/read.html"!==window.location.pathname){for(sizeRemove of s)t.galleryList.classList.remove(`gallery__list-${sizeRemove}`);t.galleryList.classList.add(`gallery__list-${o}`)}for(sizeRemove of s)t.logo.classList.remove(`logo-${sizeRemove}`),t.navBar.classList.remove(`navbar-${sizeRemove}`);t.headerContainer.forEach((t=>{for(sizeRemove of s)t.classList.remove(`header-container-${sizeRemove}`);t.classList.add(`header-container-${o}`)})),t.logo.classList.add(`logo-${o}`),t.navBar.classList.add(`navbar-${o}`),t.container.forEach((t=>{for(sizeRemove of s)t.classList.remove(`container-${sizeRemove}`);t.classList.add(`container-${o}`)})),document.querySelectorAll(".gallery__item").forEach((t=>{for(sizeRemove of s)t.classList.remove(`gallery__item-${sizeRemove}`);t.classList.add(`gallery__item-${o}`)}))}const i=document.querySelector(".switch-checkbox"),c=document.querySelector("body"),r=document.querySelector(".theme__dark"),l=document.querySelector(".theme__light");i.addEventListener("click",(function(){c.classList.toggle("darkMode"),r.classList.toggle("opacityForDark"),l.classList.toggle("opacityForDark"),"dark"!==localStorage.getItem("theme")?localStorage.setItem("theme","dark"):localStorage.removeItem("theme")})),function(){try{"dark"===localStorage.getItem("theme")&&(c.classList.add("darkMode"),i.checked=!0)}catch(t){}}();document.querySelector(".list-news");const d=document.querySelector(".js-menu-container"),m=document.querySelector(".js-open-menu"),g=document.querySelector(".js-close-menu");document.querySelector(".theme"),document.querySelector(".search-field__btn"),document.querySelector(".news-loader__container.container");function u(){d.classList.toggle("open-menu");const t="true"===m.getAttribute("aria-expanded")||!1;m.setAttribute("aria-expanded",!t);bodyScrollLock[t?"enableBodyScroll":"disableBodyScroll"](document.body)}m.addEventListener("click",u),g.addEventListener("click",u);async function b(t,e={}){const a=`https://api.nytimes.com${t}?${Object.entries(e).map((([t,e])=>`${t}=${e}`)).join("&")}&api-key=TSw2QdOoFucel7ybh9h7kC4obHmkxxGl`;try{const t=await fetch(a);if(!t.ok)throw new Error(`Failed to fetch data from ${a}`);return await t.json()}catch(t){throw console.error(t),new Error(`Failed to fetch data from ${a}`)}}let _=0;const h=document.querySelector(".search-field"),y=document.querySelector("#search-field__input");h.addEventListener("submit",(function(t){t.preventDefault(),q(),e=p,b("/svc/search/v2/articlesearch.json",{q:e,page:"1"}).then((t=>{totalItems=t.response.docs.length,_=Math.ceil(t.response.docs.length/L),t.response.docs.length,function(t){const e=t.map((t=>{function e(){return t.abstract.length>120?t.abstract.slice(0,119)+"...":t.abstract}const a=e(),n=new Date(t.pub_date),o=(new Intl.DateTimeFormat).format(n);function s(){return t.headline.main.length>50?t.headline.main.slice(0,49)+"...":t.headline.main}const i=s(),c=t.web_url,r=t.multimedia;function l(){return 0===r.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":`https://static01.nyt.com/${r[0].url}`}return{descr:a,date:o,title:i,source:c,image:l(),alt:"New`s image"}}));w=e}(t.response.docs),C(w,$)}));var e})),y.addEventListener("input",(function(t){p=t.target.value.trim()})),b("/svc/mostpopular/v2/viewed/1.json",{}).then((t=>{totalItems=t.results.length,_=Math.ceil(t.results.length/L),k(t.results),C(w,$)})).catch((t=>{console.error(t)}));let p="";let f=0,v=0,L=8,$=1,w={};const S=document.querySelector(".gallery__list");function C(t,e){f=(e-1)*L,v=f+L,E(_);const a=t.map((t=>`<li class="gallery__item">\n                     <div class="gallery__thumb"> <p class="gallery__category">Job searching</p>\n                      <img class="gallery__img" src="${t.image}" alt="${t.alt}"/>\n                      <div class='gallery__favorite'><p>Add to favorite</p>\n                      <button type="button"></button>\n                      <svg width='16' height='16'><use href="/sprite.f14d31f7.svg#icon-heart"></use>\n                      </svg></div></div>\n                      <h3 class="gallery__header">${t.title}</h3>\n                      <p class="gallery__text">${t.descr}</p>\n                      <div class="gallery__item-bottom_wrap">\n                          <span class="gallery__date">${t.date}</span>\n                          <a href="${t.source}" target="_blank" rel="noreferrer noopener" class="gallery__link">Read more</a>\n                      </div>\n                  </li>`)).slice(f,v);a.splice(2,0,'<li class="gallery__item"></li>');const n=a.join("");S.insertAdjacentHTML("beforeend",n)}function k(t){const e=t.map((t=>{const e=t.abstract.length>120?t.abstract.slice(0,119)+"...":t.abstract,a=new Date(t.published_date);return{descr:e,date:(new Intl.DateTimeFormat).format(a),title:t.title.length>50?t.title.slice(0,49)+"...":t.title,source:t.url,image:0===t.media.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":t.media[0]["media-metadata"][2].url,alt:0===t.media.length?"Image is no avalible":t.media[0].caption}}));return w=e,w}function q(){S.innerHTML=""}document.getElementById("pagination");function E(t){new tui.Pagination(refs.paginationContainer,{totalItems:t,itemsPerPage:1,visiblePages:3}).on("beforeMove",(t=>{const e=t.page;q(),C(w,e)}))}const M={mobile:window.matchMedia("(min-width: 300px)"),tablet:window.matchMedia("(min-width: 768px)"),desktop:window.matchMedia("(min-width: 1280px)")};for(let[T,x]of Object.entries(M))x&&x.addEventListener("change",j);function j(){let t=null,e=[];for(let[a,n]of Object.entries(M))!n||n.matches?t=a:a!==t&&e.push(a);s(t,e)}"/index.html"!==window.location.pathname&&window.addEventListener("DOMContentLoaded",(t=>j())),console.log(window.location);
//# sourceMappingURL=read.0ead0655.js.map
