var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var s=n("23aE7");const i=document.querySelector(".gallery__list"),l=document.querySelector(".search-field"),r=document.querySelector("#search-field__input"),o=document.getElementById("pagination");l.addEventListener("submit",(function(e){e.preventDefault(),f(),t=_,h(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${t}&api-key=pJnhjsndYoXEeiZxcLsx3UMkwINk9PiQ`).then((e=>{console.log(e.response.docs),0===e.response.docs.length&&console.log("Empty"),function(e){const t=e.map((e=>{function t(){return e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract}const a=t(),n=new Date(e.pub_date),s=(new Intl.DateTimeFormat).format(n);function i(){return e.headline.main.length>50?e.headline.main.slice(0,49)+"...":e.headline.main}const l=i(),r=e.web_url,o=e.multimedia;function c(){return 0===o.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":`https://static01.nyt.com/${o[0].url}`}return{descr:a,date:s,title:l,source:r,image:c(),alt:"New`s image"}}));g=t}(e.response.docs),m(g,1)}));var t})),r.addEventListener("input",(function(e){_=e.target.value.trim()}));let c=0,p=0,u=0,d=0,g={};async function h(e){const t=await fetch(e);if(!t.ok)throw new Error(responce.statusText);return t.json()}function m(e,t){var a;p=8*(t-1),u=p+8,a=d,new tui.Pagination(o,{totalItems:a,itemsPerPage:1,visiblePages:3,centerAlign:!0,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}).on("beforeMove",(e=>{const t=e.page;console.log(e),f(),m(g,t)}));const n=e.map((e=>`<li class="gallery__item">\n                   <div class="gallery__thumb"> <p class="gallery__category">Job searching</p>\n                    <img class="gallery__img" src="${e.image}" alt="${e.alt}"/>\n                    <div class='gallery__favorite'><p>Add to favorite</p>\n                    <button type="button"></button>\n                    <svg width='16' height='16'><use href="/sprite.f14d31f7.svg#icon-heart"></use>\n                    </svg></div></div>\n                    <h3 class="gallery__header">${e.title}</h3>\n                    <p class="gallery__text">${e.descr}</p>\n                    <div class="gallery__item-bottom_wrap">\n                        <span class="gallery__date">${e.date}</span>\n                        <a href="${e.source}" target="_blank" rel="noreferrer noopener" class="gallery__link">Read more</a>\n                    </div>\n                </li>`)).slice(p,u);n.splice(2,0,'<li class="gallery__item"><div class="weather">\n<div class="weather_wrap">\n<p class="weather_degree">23&deg</p>\n<div class="weather_part">\n<p class="weather_character gallery__text">Sunny</p>\n<button type="button" class="weather_location"><p class="weather_country"></p>West Jakarta</p></button>\n</div>\n</div>\n<img src="./images/Sun.png" width="121" class="weather_image">\n<p class="weather_character alighn">Mon<br>\n21 Jan 2021</p>\n<button type="button" class="weather_week"><p class="">weather for week</p></button>\n</div></li>');const l=n.join("");console.log("BEFORE"),i.insertAdjacentHTML("beforeend",l),(0,s.mqHandler)()}function f(){i.innerHTML=""}h("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=pJnhjsndYoXEeiZxcLsx3UMkwINk9PiQ").then((e=>{c=e.results.length,d=Math.ceil(c/8),function(e){const t=e.map((e=>{const t=e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract,a=new Date(e.published_date);return{descr:t,date:(new Intl.DateTimeFormat).format(a),title:e.title.length>50?e.title.slice(0,49)+"...":e.title,source:e.url,image:0===e.media.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":e.media[0]["media-metadata"][2].url,alt:0===e.media.length?"Image is no avalible":e.media[0].caption}}));g=t}(e.results),m(g,1)}));let _="";
//# sourceMappingURL=index.6b8119b4.js.map
