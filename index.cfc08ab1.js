async function e(e,t={}){const a=`https://api.nytimes.com${e}?${Object.entries(t).map((([e,t])=>`${e}=${t}`)).join("&")}&api-key=TSw2QdOoFucel7ybh9h7kC4obHmkxxGl`;try{const e=await fetch(a);if(!e.ok)throw new Error(`Failed to fetch data from ${a}`);return await e.json()}catch(e){throw console.error(e),new Error(`Failed to fetch data from ${a}`)}}const t=document.getElementById("pagination");let a=0,n=0,s={};const l=document.querySelector(".gallery__list");function r(e,i){var d;a=8*(i-1),n=a+8,d=c,new tui.Pagination(t,{totalItems:d,itemsPerPage:1,visiblePages:3}).on("beforeMove",(e=>{const t=e.page;o(),r(s,t)}));const m=e.map((e=>`<li class="gallery__item">\n                     <div class="gallery__thumb"> <p class="gallery__category">Job searching</p>\n                      <img class="gallery__img" src="${e.image}" alt="${e.alt}"/>\n                      <div class='gallery__favorite'><p>Add to favorite</p>\n                      <button type="button"></button>\n                      <svg width='16' height='16'><use href="/sprite.f14d31f7.svg#icon-heart"></use>\n                      </svg></div></div>\n                      <h3 class="gallery__header">${e.title}</h3>\n                      <p class="gallery__text">${e.descr}</p>\n                      <div class="gallery__item-bottom_wrap">\n                          <span class="gallery__date">${e.date}</span>\n                          <a href="${e.source}" target="_blank" rel="noreferrer noopener" class="gallery__link">Read more</a>\n                      </div>\n                  </li>`)).slice(a,n);m.splice(2,0,'<li class="gallery__item"></li>');const g=m.join("");l.insertAdjacentHTML("beforeend",g)}function i(e){const t=e.map((e=>{const t=e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract,a=new Date(e.published_date);return{descr:t,date:(new Intl.DateTimeFormat).format(a),title:e.title.length>50?e.title.slice(0,49)+"...":e.title,source:e.url,image:0===e.media.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":e.media[0]["media-metadata"][2].url,alt:0===e.media.length?"Image is no avalible":e.media[0].caption}}));return s=t,s}function o(){l.innerHTML=""}let c=0;const d=document.querySelector(".search-field"),m=document.querySelector("#search-field__input");d.addEventListener("submit",(function(t){t.preventDefault(),o(),a=g,e("/svc/search/v2/articlesearch.json",{q:a,page:"1"}).then((e=>{totalItems=e.response.docs.length,c=Math.ceil(e.response.docs.length/8),e.response.docs.length,function(e){const t=e.map((e=>{const t=e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract,a=new Date(e.pub_date),n=(new Intl.DateTimeFormat).format(a),s=e.headline.main.length>50?e.headline.main.slice(0,49)+"...":e.headline.main,l=e.web_url,r=e.multimedia;return{descr:t,date:n,title:s,source:l,image:0===r.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":`https://static01.nyt.com/${r[0].url}`,alt:"New`s image"}}));s=t}(e.response.docs),r(s,1)}));var a})),m.addEventListener("input",(function(e){g=e.target.value.trim()})),e("/svc/mostpopular/v2/viewed/1.json",{}).then((e=>{totalItems=e.results.length,c=Math.ceil(e.results.length/8),i(e.results),r(s,1)})).catch((e=>{console.error(e)}));let g="";
//# sourceMappingURL=index.cfc08ab1.js.map
