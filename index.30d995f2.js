const e=document.querySelector(".gallery__list"),t=document.querySelector(".search-field"),n=document.querySelector("#search-field__input");async function a(e){const t=await fetch(e);if(!t.ok)throw new Error(responce.statusText);return t.json()}function s(t){const n=t.map((e=>` <li class="gallery__item">\n                    <img class="gallery__img" src="${e.image}" alt="${e.alt}"/>\n                    <h3 class="gallery__header">${e.title}</h3>\n                    <p class="gallery__text">${e.descr}</p>\n                    <div class="gallery__item-bottom_wrap">\n                        <span class="gallery__date">${e.date}</span>\n                        <a href="${e.source}" target="_blank" rel="noreferrer noopener" class="gallery__link">Read more</a>\n                    </div>\n                </li>`)).join("");e.insertAdjacentHTML("beforeend",n)}t.addEventListener("submit",(function(t){t.preventDefault(),e.innerHTML="",n=r,a(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${n}&api-key=pJnhjsndYoXEeiZxcLsx3UMkwINk9PiQ`).then((e=>{console.log(e.response.docs),0===e.response.docs.length&&console.log("Empty"),s(e.response.docs.map((e=>{function t(){return e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract}const n=t(),a=new Date(e.pub_date),s=(new Intl.DateTimeFormat).format(a);function r(){return e.headline.main.length>50?e.headline.main.slice(0,49)+"...":e.headline.main}const l=r(),i=e.web_url,c=e.multimedia;function o(){return 0===c.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":`https://static01.nyt.com/${c[0].url}`}return{descr:n,date:s,title:l,source:i,image:o(),alt:"New`s image"}})))}));var n})),n.addEventListener("input",(function(e){r=e.target.value.trim()})),a("https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=pJnhjsndYoXEeiZxcLsx3UMkwINk9PiQ").then((e=>{console.log(e.results),s(e.results.map((e=>{const t=e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract,n=new Date(e.published_date);return{descr:t,date:(new Intl.DateTimeFormat).format(n),title:e.title.length>50?e.title.slice(0,49)+"...":e.title,source:e.url,image:0===e.media.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":e.media[0]["media-metadata"][2].url,alt:0===e.media.length?"Image is no avalible":e.media[0].caption}})).slice(0,8))}));let r="";
//# sourceMappingURL=index.30d995f2.js.map
