!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r);var s=r("bpxeT"),i=r("2TvXO"),l=r("31XKK"),c="pJnhjsndYoXEeiZxcLsx3UMkwINk9PiQ",o="https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=".concat(c),p=document.querySelector(".gallery__list"),u=document.querySelector(".search-field"),d=document.querySelector("#search-field__input"),g=document.getElementById("pagination"),f=document.querySelector(".notfind-part");u.addEventListener("submit",(function(e){e.preventDefault(),k(),t=T,w("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(t,"&api-key=").concat(c)).then((function(e){var t,a;console.log(e.response.docs),f.classList.add("notfind-part-hidden"),0===e.response.docs.length&&(console.log("Empty"),f.classList.remove("notfind-part-hidden"),k()),t=e.response.docs,a=t.map((function(e){function t(){return e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract}var a=t(),n=new Date(e.pub_date),r=(new Intl.DateTimeFormat).format(n);function s(){return e.headline.main.length>50?e.headline.main.slice(0,49)+"...":e.headline.main}var i=s(),l=e.web_url,c=e.multimedia;function o(){return 0===c.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":"https://static01.nyt.com/".concat(c[0].url)}return{descr:a,date:r,title:i,source:l,image:o(),alt:"New`s image"}})),E(b=a,1)}));var t})),d.addEventListener("input",(function(e){T=e.target.value.trim()}));var h='<li class="gallery__item">'.concat('<div class="weather">\n<div class="weather_wrap">\n<p class="weather_degree">23&deg</p>\n<div class="weather_part">\n<p class="weather_character gallery__text">Sunny</p>\n<button type="button" class="weather_location"><p class="weather_country"></p>West Jakarta</p></button>\n</div>\n</div>\n<img src="./images/Sun.png" width="121" class="weather_image">\n<p class="weather_character alighn">Mon<br>\n21 Jan 2021</p>\n<button type="button" class="weather_week"><p class="">weather for week</p></button>\n</div>',"</li>"),m=0,v=0,_=0,y=0,b={};function w(e){return x.apply(this,arguments)}function x(){return(x=e(s)(e(i).mark((function t(a){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error(responce.statusText);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function E(e,t){var a;_=(v=8*(t-1))+8,a=y,new tui.Pagination(g,{totalItems:a,itemsPerPage:1,visiblePages:3,centerAlign:!0,template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}).on("beforeMove",(function(e){var t=e.page;console.log(e),k(),E(b,t)}));var n=e.map((function(e){return'<li class="gallery__item">\n                   <div class="gallery__thumb"> <p class="gallery__category">Job searching</p>\n                    <img class="gallery__img" src="'.concat(e.image,'" alt="').concat(e.alt,"\"/>\n                    <div class='gallery__favorite'><p>Add to favorite</p>\n                    <button type=\"button\"></button>\n                    <svg width='16' height='16'><use href=\"").concat("/sprite.f14d31f7.svg#icon-heart",'"></use>\n                    </svg></div></div>\n                    <h3 class="gallery__header">').concat(e.title,'</h3>\n                    <p class="gallery__text">').concat(e.descr,'</p>\n                    <div class="gallery__item-bottom_wrap">\n                        <span class="gallery__date">').concat(e.date,'</span>\n                        <a href="').concat(e.source,'" target="_blank" rel="noreferrer noopener" class="gallery__link">Read more</a>\n                    </div>\n                </li>')})).slice(v,_);n.splice(2,0,h);var r=n.join("");console.log("BEFORE"),p.insertAdjacentHTML("beforeend",r),(0,l.mqHandler)()}function k(){p.innerHTML=""}w(o).then((function(e){var t,a;m=e.results.length,y=Math.ceil(m/8),t=e.results,a=t.map((function(e){var t=e.abstract.length>120?e.abstract.slice(0,119)+"...":e.abstract,a=new Date(e.published_date);return{descr:t,date:(new Intl.DateTimeFormat).format(a),title:e.title.length>50?e.title.slice(0,49)+"...":e.title,source:e.url,image:0===e.media.length?"https://t3.ftcdn.net/jpg/04/62/93/66/360_F_462936689_BpEEcxfgMuYPfTaIAOC1tCDurmsno7Sp.jpg":e.media[0]["media-metadata"][2].url,alt:0===e.media.length?"Image is no avalible":e.media[0].caption}})),E(b=a,1)}));var T=""}();
//# sourceMappingURL=index.29022a2a.js.map
